\subsection{User Study}
To further evaluate the effectiveness of $\avats$ from the the audience perspective, we conducted formal user studies to compare how users perform the urban exploration tasks with visualizations generated by whole dataset, random sampling and $\avats$.


\begin{figure}[t]
	\centering
	\includegraphics[width=0.48\textwidth]{pictures/user_study/interface.pdf}
	\vspace{-3mm}
	\caption{The interface of user study platform.}
	\vspace{-5mm}
	\label{fig:user_study}
\end{figure}

\subsubsection{Experiment setting}

\stitle{Participants and apparatus}
We recruit 100 participants (** females, ** males, aged 20 to **(mean=**, SD=**)) with normal vision or normal corrected vision. All of these participants have the background of computer science. 
The study system is a web-based platform which has the size-fixed interface and the participants perform the user study on their own  computers. The system interface is shown as Figure~\ref{fig:user_study}. Considering the unfairness caused by the screen size, we recommend all participants to set the resolution of the screen as 1980 * 1080 before the experiment. All images displayed on the interface have the same size of(AA*BB).  

\stitle{Tasks and data generation}
We used the taxi trajectory dataset of Porto and Shenzhen for the user study. All participants needed to perform three types of tasks:  city/commercial region center identification(T1), reachable route inspection(T2) , and traffic flow estimation(T3)(shown as Figure~\ref{fig:user_study}(B,C,D)). For all the tasks, we have generated 145 visualizations(35 for T1, 75 for T2, 35 for T3) and 185 different questions(152 for T1, 21 for T2, 12 for T3). 



\textbf{T1. City/commercial region center identification.} 
% what participants do
As shown by Figure~\ref{fig:user_study}(C), a visualization view was given and several regions were marked by circle. The participants needed to select the regions which could be city/commercial centers by click the corresponding circles. In each task, the number of correct regions were given. 
%Why possible
The city or commercial region centers always have more passing trajectories from different directions than the surrounding regions, which results in the \UC{start-shape} cluster of trajectories in the visualization. 
%Generate the data
To generate the test data of T1, we randomly chose several visualization views which contain city/commercial regions and labeled the locations of each city/commercial region center on the visualization as the correct locations first.  Then we randomly generated locations and remove the locations close to the correct locations, the remaining locations are the error locations. In each task of T1, with a given visualization, the same number of correct and wrong locations will be randomly selected. 

\textbf{T2. Reachable route inspection.} 
% what participants do
Figure~\ref{fig:user_study}(D) shows the interface of T2, which includes a visualization and two circular regions. The users needed to draw several most representative reachable routes to connect the two regions. The number of the reachable routes is given. 
%Why possible
The reachable routes indicate the routes connecting two regions, these routes must have the passing trajectories. 
%Generate the data
To generate the test data, we randomly chose the visualization views which contain two or more city/commercial regions. In each task of T2, a visualization and two regions were randomly selected.

\textbf{T3. Traffic flow estimation}. 
% what participants do
As shown by Figure~\ref{fig:user_study}(B), with a given visualization, some road segments will be identified by ellipses(shown as~\ref{fig:user_study}(B)). Several road segment pairs were randomly selected and listed below the view. The participants were asked to choose the one with larger traffic flow by clicking the radio box. They can also choose ``I am not sure'' if they cannot decided the answer. 
%Why possible
A road with larger traffic flow has more trajectories in the dataset passing through the road segment, thus lead to a denser and broader trajectory brunch in the visualization. In the trajectory visualization with color encoding, such kind of pattern can also be highlighted by a concentration of trajectories with warm color. 
%Generate the data
To generate the test data of T3,  we sampled and selected the visualization views which contain clear road structures. Then the number of trajectories passing through each road segment was counted as the traffic flow. 

\stitle{Procedure}
The user study began with the introduction which introduces the motivation, tasks and visual encoding. Then the following sessions are divided into three blocks according to the task types. Each block starts with a task tutorial, in which the participants could perform several demo tasks, thus familiarizing themselves with the interface, interaction and tasks. For example, Figure~\ref{fig:user_study}(A) shows the demo task of T3, in which the users can check the correct answer after clicking the ``check'' button. After all the questions are finished, the answers and time usage are collected and saved in the database for the further analysis. At last, a post-interview were conducted to collect the feedback of the participants.  

\subsubsection{Results}
Figure~\ref{fig:accuracy} depicts the accuracy among the task types and sampling methods. With a given task type and method, we visualize the average accuracy of all questions by a colored circle and a line-segment to indicate the highest and lowest score of all questions of of this task type. 

\begin{figure}[t]
	\centering
	\includegraphics[width=0.44\textwidth]{pictures/user_study/accuracy.pdf}
	\vspace{-3mm}
	\caption{Average accuracy of three types of tasks. X axis indicates the task types and methods. Y axis indicate the accuracy.}
	\vspace{-5mm}
	\label{fig:accuracy}
\end{figure}

\stitle{Accuracy} 
Figure~\ref{fig:accuracy} summarizes the accuracy of all the tests. 
We  observe that $\vats$, $\avats$ and $\avats$ with color encoding are clear better than random sampling. 

For T1, the participants using all the three proposed methods had a very close performance with the participants using whole dataset, indicating the proposed methods can replace the whole dataset with a guaranteed performance in the exploration of human activity center with trajectory visualization. We observed that the average accuracy of $\avats$ with color encoding are slightly lower than $\vats$ and whole dataset. In the post-interview, some of the participants claim that the color of trajectories may distract the people's attentions and make the cluster characteristics not obvious.


For the tasks of T2, $\avats$, $\avats$ with color encoding and the whole dataset all have similar accuracy scores which are far higher than random sampling. Moreover, $\avats$ and $\avats$ with color encoding also outperforms the $\vats$ clearly by taking the perception parameters into consideration. Different from T1, the tasks of reachable route inspection are always performed at a fine-grained level of visualization, which requires a better preservation of the detail information particular for the regions with sparse trajectories. This results demonstrate the advantage of $\avats$ on the urban exploration at a detail level.
 
 
The tasks of T3 are more difficult than the two above, resulting in relative lower average accuracy score for all methods. Furthermore, the average accuracy score of whole dataset was lower than the three proposed methods. In the post-interview, the participants pointed out that some visualization of whole dataset had a serious visual clutter, which made the two road segments uncomparable. They also claimed that the $\avats$ alleviated the visual clutter problem and preserved the clear structure. The $\avats$ with color encoding further highlighted the crowded road segments from the surroundings by color, which resulted in the highest average score in this task type.

The user study demonstrates the effectiveness of $\avats$ in the three common exploration tasks. The users achieved equal or higher accuracy score when using $\avats$ compared with the visualization generated by the whole dataset and random sampling. 



